angular.module("ui.yt",["ui.yt.template","ui.yt.placeholder","ui.yt.focusOnce","ui.yt.popoverConfirm"]),angular.module("ui.yt.template",["popoverConfirm/template/wrapper.html"]),angular.module("ui.yt.focusOnce",[]).directive("focusOnce",["$timeout","$parse",function(t,e){return{restrict:"A",link:function(n,o,i){var r=e(i.focusOnce),p=n.$watch(r,function(e){e===!0&&t(function(){o[0].focus(),p()})})}}}]),angular.module("ui.yt.placeholder",[]).directive("placeholder",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,o){var i="placeholder"in document.createElement("input"),r="placeholder"in document.createElement("textarea");if(!i||!r){var p,c=function(){e.val(n.placeholder),e.addClass("placeholder-ie")},l=function(){e.val(""),e.removeClass("placeholder-ie")};t.$watch(n.ngModel,function(t){p=t||""}),e.bind("focus",function(){""===p&&l()}),e.bind("blur",function(){""===e.val()&&c()}),o.$formatters.unshift(function(t){return t?t:(c(),p="",n.placeholder)})}}}}),angular.module("ui.yt.popoverConfirm",["ui.yt.position"]).directive("popoverConfirm",["$compile","$document","$timeout","$position","$parse",function(t,e,n,o){return{scope:{options:"=popoverConfirm",confirm:"&",cancel:"&"},link:function(i,r){var p=i.$new();p.isOpened=!1;var c,l={confirmText:"Confirm",cancelText:"Cancel",confirmBtnClass:"btn-primary"},f=!1,a=!1,u=function(){var n=angular.element("<popover-confirm-wrapper />");c=t(n)(p),e.find("body").append(c)},s=function(){angular.extend(p,l,i.options)},d=function(){p.position=o.offset(r),p.position.top=p.position.top-c.prop("offsetHeight"),p.position.left=p.position.left-(c.prop("offsetWidth")-o.position(r).width)/2},m=function(t){p.isOpened&&t.target!==r[0]&&(p.isOpened=!1,r.removeAttr("disabled"),p.$$phase||p.$apply(),r.removeAttr("disabled"))},h=function(t){c||u(),t.preventDefault(),p.$apply(function(){p.isOpened=!0})};p.$watch("isOpened",function(t){t?(s(),n(function(){d()}),e.bind("click",m),a&&r.unbind("click",h),f=!0):(f&&e.unbind("click",m),r.bind("click",h),a=!0)}),p.confirm=function(){n(function(){p.isOpened=!1,i.confirm(),r.removeAttr("disabled")})},p.cancel=function(){p.isOpened=!1,i.cancel(),r.removeAttr("disabled")},i.$on("$destroy",function(){c.remove(),p.$destroy()})}}}]).directive("popoverConfirmWrapper",function(){return{restrict:"EA",replace:!0,templateUrl:"popoverConfirm/template/wrapper.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.yt.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function o(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&o(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),o={top:0,left:0},r=i(e[0]);r!=t[0]&&(o=this.offset(angular.element(r)),o.top+=r.clientTop-r.scrollTop,o.left+=r.clientLeft-r.scrollLeft);var p=e[0].getBoundingClientRect();return{width:p.width||e.prop("offsetWidth"),height:p.height||e.prop("offsetHeight"),top:n.top-o.top,left:n.left-o.left}},offset:function(n){var o=n[0].getBoundingClientRect();return{width:o.width||n.prop("offsetWidth"),height:o.height||n.prop("offsetHeight"),top:o.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:o.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,o){var i,r,p,c,l=n.split("-"),f=l[0],a=l[1]||"center";i=o?this.offset(t):this.position(t),r=e.prop("offsetWidth"),p=e.prop("offsetHeight");var u={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},s={center:function(){return i.top+i.height/2-p/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(f){case"right":c={top:s[a](),left:u[f]()};break;case"left":c={top:s[a](),left:i.left-r};break;case"bottom":c={top:s[f](),left:u[a]()};break;default:c={top:i.top-p,left:u[a]()}}return c}}}]),function(t){try{t=angular.module("popoverConfirm/template/wrapper.html")}catch(e){t=angular.module("popoverConfirm/template/wrapper.html",[])}t.run(["$templateCache",function(t){t.put("popoverConfirm/template/wrapper.html",'<div class="popover top" ng-style="{display: (isOpened && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\', zIndex: 3000}">\n  <div class="arrow"></div>\n  <div class="popover-inner">\n    <h3 class="popover-title" ng-if="title">{{title}}</h3>\n    <div class="popover-content">\n      <div ng-bind-html="msg"></div>\n      <div class="popover-footer clearfix">\n        <div class="align-center">\n          <button class="btn {{confirmBtnClass}}" ng-click="confirm()">{{confirmText}}</button>\n          <button class="btn btn-default" ng-click="cancel()">{{cancelText}}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>')}])}();